<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating and Structuring Roles :: Ansible Basics</title>
    <link rel="prev" href="understanding-roles.html">
    <link rel="next" href="role-dependencies-and-including-roles.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Ansible Basics</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-demo-2" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Ansible Basics</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction-to-ansible/introduction-to-ansible.html">Introduction to Ansible</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-ansible/overview-of-ansible.html">Overview of Ansible</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-ansible/installing-ansible.html">Installing Ansible</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ansible-architecture-and-concepts/ansible-architecture-and-concepts.html">Ansible Architecture and Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/ansible-architecture.html">Ansible Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/inventory-playbooks-and-modules.html">Inventory, Playbooks, and Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/fact-gathering-and-variables.html">Fact Gathering and Variables</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../writing-ansible-playbooks/writing-ansible-playbooks.html">Writing Ansible Playbooks</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../writing-ansible-playbooks/playbook-structure-and-syntax.html">Playbook Structure and Syntax</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../writing-ansible-playbooks/basic-playbook-examples.html">Basic Playbook Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../writing-ansible-playbooks/variables-templates-and-include-statements.html">Variables, Templates, and Include Statements</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="managing-tasks-with-roles.html">Managing Tasks with Roles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="understanding-roles.html">Understanding Roles</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="creating-and-structuring-roles.html">Creating and Structuring Roles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="role-dependencies-and-including-roles.html">Role Dependencies and Including Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-ansible-basics/hands-on-lab-ansible-basics.html">Hands-on Lab: Ansible Basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/setting-up-a-simple-ansible-environment.html">Setting up a Simple Ansible Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/writing-and-executing-basic-playbooks.html">Writing and Executing Basic Playbooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/implementing-roles-and-control-flow.html">Implementing Roles and Control Flow</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Ansible Basics</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Ansible Basics</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Ansible Basics</a></li>
    <li><a href="managing-tasks-with-roles.html">Managing Tasks with Roles</a></li>
    <li><a href="creating-and-structuring-roles.html">Creating and Structuring Roles</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Creating and Structuring Roles</h1>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">## Creating and Structuring Roles

Roles in Ansible are a way to organize playbooks and related files. They promote the reuse of automation code and help maintain separation of concerns. This section will guide you through creating and structuring roles effectively.

### Understanding Roles

Ansible roles are a standardized way to organize playbooks, tasks, handlers, files, templates, and other Ansible artifacts. They provide a familiar structure for automation engineers and help maintain consistency across different projects.

Roles have the following directory structure:</code></pre>
</div>
</div>
<div class="paragraph">
<p>roles/&lt;role_name&gt;/
├── tasks
│   └── main.yml
├── handlers
│   └── main.yml
├── templates
├── files
├── defaults
│   └── main.yml
└── vars
    └── main.yml</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">- **tasks**: Contains the main tasks to be executed by the role.
- **handlers**: Defines handlers that can be triggered by the tasks.
- **templates**: Holds Jinja2 templates used for generating configuration files.
- **files**: Stores any static files required by the role.
- **defaults**: Provides default variable values that can be overridden by the playbook or inventory.
- **vars**: Contains variable definitions that can be used across tasks within the role.

### Creating a Role

To create a new role, follow these steps:

1. Create a new directory for your role inside the `roles` directory:

   ```bash
   mkdir -p roles/&lt;role_name&gt;/
   ```

2. Inside the role directory, create the necessary subdirectories and add your custom files. For example, to create a simple role named `my_role` with a single task:

   ```bash
   cd roles/&lt;role_name&gt;/
   mkdir -p tasks/{main.yml}
   touch defaults/main.yml
   ```

3. Add the required content to each file:

   - `tasks/main.yml`:

     ```yaml
     ---
     - name: My role task
       ansible.builtin.shell: echo "Hello from my role!"
     ```

   - `defaults/main.yml`:

     ```yaml
     my_variable: 'default_value'
     ```

### Structuring Roles

When structuring roles, consider the following best practices:

- **Separation of Concerns**: Each role should focus on a single, well-defined task or set of related tasks</code></pre>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="understanding-roles.html">Understanding Roles</a></span>
  <span class="next"><a href="role-dependencies-and-including-roles.html">Role Dependencies and Including Roles</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
