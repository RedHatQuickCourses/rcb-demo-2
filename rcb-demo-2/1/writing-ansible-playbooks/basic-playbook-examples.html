<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic Playbook Examples :: Ansible Basics</title>
    <link rel="prev" href="playbook-structure-and-syntax.html">
    <link rel="next" href="variables-templates-and-include-statements.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Ansible Basics</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-demo-2" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Ansible Basics</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction-to-ansible/introduction-to-ansible.html">Introduction to Ansible</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-ansible/overview-of-ansible.html">Overview of Ansible</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-ansible/installing-ansible.html">Installing Ansible</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ansible-architecture-and-concepts/ansible-architecture-and-concepts.html">Ansible Architecture and Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/ansible-architecture.html">Ansible Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/inventory-playbooks-and-modules.html">Inventory, Playbooks, and Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ansible-architecture-and-concepts/fact-gathering-and-variables.html">Fact Gathering and Variables</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="writing-ansible-playbooks.html">Writing Ansible Playbooks</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="playbook-structure-and-syntax.html">Playbook Structure and Syntax</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="basic-playbook-examples.html">Basic Playbook Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="variables-templates-and-include-statements.html">Variables, Templates, and Include Statements</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../managing-tasks-with-roles/managing-tasks-with-roles.html">Managing Tasks with Roles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../managing-tasks-with-roles/understanding-roles.html">Understanding Roles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../managing-tasks-with-roles/creating-and-structuring-roles.html">Creating and Structuring Roles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../managing-tasks-with-roles/role-dependencies-and-including-roles.html">Role Dependencies and Including Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-ansible-basics/hands-on-lab-ansible-basics.html">Hands-on Lab: Ansible Basics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/setting-up-a-simple-ansible-environment.html">Setting up a Simple Ansible Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/writing-and-executing-basic-playbooks.html">Writing and Executing Basic Playbooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-ansible-basics/implementing-roles-and-control-flow.html">Implementing Roles and Control Flow</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Ansible Basics</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Ansible Basics</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Ansible Basics</a></li>
    <li><a href="writing-ansible-playbooks.html">Writing Ansible Playbooks</a></li>
    <li><a href="basic-playbook-examples.html">Basic Playbook Examples</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Basic Playbook Examples</h1>
<div id="preamble">
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">== Basic Playbook Examples

Ansible playbooks are written in the YAML format and serve as the instruction set for Ansible to configure systems. They define the desired state of the managed nodes and instruct Ansible on how to achieve this state. This section will provide basic playbook examples to illustrate their structure and syntax.

### Playbook Structure and Syntax

A playbook consists of plays, which are lists of tasks that are executed on a set of hosts. Here's a basic playbook structure:

```yaml
---
- name: Playbook Name
  hosts: Target Hosts
  become: true
  tasks:
    - name: Task Description
      ansible.builtin.command: Command to Execute</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: A descriptive title for the playbook.</p>
</li>
<li>
<p><code>hosts</code>: The group of hosts targeted by the play.</p>
</li>
<li>
<p><code>become</code>: Whether to become a different user (usually 'root') for the tasks.</p>
</li>
<li>
<p><code>tasks</code>: A list of tasks to be executed on the target hosts.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_basic_playbook_examples"><a class="anchor" href="#_basic_playbook_examples"></a>Basic Playbook Examples</h3>
<div class="sect3">
<h4 id="_example_1_installing_apache_on_target_hosts"><a class="anchor" href="#_example_1_installing_apache_on_target_hosts"></a>Example 1: Installing Apache on Target Hosts</h4>
<div class="paragraph">
<p>This playbook installs the Apache web server on a group of hosts called 'webservers'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">---
- name: Install and start Apache
  hosts: webservers
  become: true
  tasks:
    - name: Ensure Apache is installed
      ansible.builtin.apt:
        name: apache2
        state: present

    - name: Ensure Apache is running
      ansible.builtin.service:
        name: apache2
        state: started</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_2_managing_files"><a class="anchor" href="#_example_2_managing_files"></a>Example 2: Managing Files</h4>
<div class="paragraph">
<p>This playbook copies a local file to remote servers and ensures its presence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">---
- name: Copy and manage a file
  hosts: all
  become: true
  tasks:
    - name: Copy file from local to remote
      ansible.builtin.copy:
        src: /etc/ansible/myfile.conf
        dest: /etc/apache2/conf-available/myfile.conf

    - name: Ensure file permissions are set
      ansible.builtin.file:
        path: /etc/apache2/conf-available/myfile.conf
        mode: '0644'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hands_on_activity_writing_basic_playbooks"><a class="anchor" href="#_hands_on_activity_writing_basic_playbooks"></a>Hands-on Activity: Writing Basic Playbooks</h3>
<div class="paragraph">
<p><strong>Objective:</strong> Create and execute basic Ansible playbooks to manage services and files.</p>
</div>
<div class="paragraph">
<p><strong>Steps:</strong></p>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="playbook-structure-and-syntax.html">Playbook Structure and Syntax</a></span>
  <span class="next"><a href="variables-templates-and-include-statements.html">Variables, Templates, and Include Statements</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
