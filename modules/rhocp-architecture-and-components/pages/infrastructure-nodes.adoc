#  Infrastructure Nodes

```
## Infrastructure Nodes in Red Hat OpenShift (RHOCP)

Infrastructure nodes in Red Hat OpenShift (RHOCP) are a specialized type of node designed to host optional components that provide services for cluster operation and additional functionality. These nodes are not part of the default OpenShift installation but can be added to enhance the cluster's capabilities.

### Overview

Infrastructure nodes are typically used to run workloads that are not application-driven but are essential for the smooth functioning of the cluster. Examples include monitoring tools, logging aggregators, and registry servers. By offloading these services to dedicated nodes, you can prevent them from consuming resources needed by application nodes, ensuring optimal performance for your applications.

### Key Components on Infrastructure Nodes

1. **Monitoring Stack**: Components like Prometheus and the Monitoring Operator are often deployed on infrastructure nodes to collect and store cluster metrics. This data is crucial for understanding the health and performance of your OpenShift cluster.

2. **Logging Stack**: Tools such as Elasticsearch, Kibana, and Fluentd are frequently installed on infrastructure nodes to aggregate and visualize logs from all pods in the cluster. This setup simplifies troubleshooting and provides insights into system behavior.

3. **Registry Server**: An internal container registry, typically based on Red Hat Quay or Docker Registry, can be deployed on infrastructure nodes. This registry stores container images pulled from external registries, reducing the need to download images repeatedly and speeding up deployment times.

### Configuring Infrastructure Nodes

To add infrastructure nodes to your OpenShift cluster, follow these steps:

1. **Label Nodes**: Identify the nodes you want to designate as infrastructure nodes and label them using `oc label`. For example:

   ```bash
   oc label node <node-name> node-role.kubernetes.io/infra=
   ```

2. **Taint Master Nodes**: Ensure that master nodes are tainted with the `node-role.kubernetes.io/infra:NoSchedule` taint to prevent scheduling of general workloads on these nodes.

3. **Deploy Cluster Operators**: Use the OpenShift web console or `oc apply` commands to deploy the required operators and components (e.g., Prometheus, Logging, Quay) on the newly labeled nodes.

### Hands-on Activity: Setting Up an Infrastructure Node

**Objective**: Deploy a logging stack on an infrastructure node in your OpenShift cluster.

